{% extends 'dashboard.html' %}

{% block content %}
<div class="container mt-4" style="max-width: 700px;">
    
    <div class="card border-info">
        <div class="card-header bg-info text-white">
            <h4 class="mb-0">üìã Checklist Mensal</h4>
            <small>{{ extintor.codigo_patrimonial }} - {{ extintor.localizacao.nome }} ({{ extintor.get_agente_display }})</small>
        </div>
        
        <div class="card-body">
            
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label fw-bold">Data da Inspe√ß√£o</label>
                        {{ form.data_inspecao }}
                    </div>
                    <div class="col-md-6">
                        <label class="form-label fw-bold">Respons√°vel T√©cnico</label>
                        {{ form.responsavel }}
                    </div>
                </div>

                <div class="p-3 bg-light rounded border mb-3">
                    <h6 class="mb-3 text-muted border-bottom pb-2">Itens de Verifica√ß√£o</h6>
                    
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <label>1. O Lacre est√° intacto?</label> 
                        <div class="form-check form-switch">{{ form.lacre_intacto }}</div>
                    </div>
                    
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <label>2. Man√¥metro na faixa verde (Press√£o)?</label> 
                        <div class="form-check form-switch">{{ form.manometro_pressao_ok }}</div>
                    </div>

                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <label>3. A sinaliza√ß√£o de parede est√° vis√≠vel?</label> 
                        <div class="form-check form-switch">{{ form.sinalizacao_visivel }}</div>
                    </div>

                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <label>4. O acesso est√° livre e desobstru√≠do?</label> 
                        <div class="form-check form-switch">{{ form.acesso_livre }}</div>
                    </div>

                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <label>5. Mangueira e difusor est√£o √≠ntegros?</label> 
                        <div class="form-check form-switch">{{ form.mangueira_integra }}</div>
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label fw-bold">Observa√ß√µes Adicionais:</label>
                    {{ form.observacoes }}
                </div>

                <div class="mb-4 p-3 border border-secondary rounded bg-white" style="border-style: dashed !important;">
                    <label class="form-label fw-bold">üì∑ Anexar Evid√™ncias (Opcional)</label>
                    
                    {{ form.fotos }}
                    
                    <div class="form-text mt-2">
                        <i class="bi bi-info-circle"></i> 
                        Segure a tecla <strong>CTRL</strong> (ou Command no Mac) para selecionar v√°rias fotos de uma vez.
                    </div>
                </div>

                <div class="d-grid gap-2">
                    <button type="submit" class="btn btn-success btn-lg">‚úÖ Confirmar Inspe√ß√£o</button>
                    <a href="{% url 'dashboard_extintores' %}" class="btn btn-outline-secondary">Cancelar</a>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Estiliza inputs de texto, data e textarea
        document.querySelectorAll('input[type="text"], input[type="date"], textarea, input[type="file"]').forEach(e => {
            e.classList.add('form-control');
        });
        
        // Estiliza checkboxes (switches)
        document.querySelectorAll('input[type="checkbox"]').forEach(e => {
            e.classList.add('form-check-input');
        });
    });
</script>
{% endblock %}